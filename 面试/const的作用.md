## C/C++中const的作用

转载自：https://blog.csdn.net/j8121/article/details/51926711

在C/C++开发中经常会用到const，这个修饰符。今天就讨论一下它的作用。

**(1)** **const用于定义常量**：const定义的常量编译器可以对其进行数据**静态类型安全检查**。这个是开发中经常用到的const的最基本的作用。

**(2)** **const修饰函数形式参数**：当输入参数为用户自定义类型和抽象数据类型的时候(就是自己定义的类)，应该**将“值传递”改为“const &传递”，可以提高效率**。

比较下面两段代码：

void fun(A a);

void fun(A const &a);

第一个函数效率低。函数体内产生A类型的临时对象用于复制参数a，临时对象的构造、复制、析构过程都将消耗时间。而第二个函数提高了效率。用“引用传递”不需要产生临时对象，节省了临时对象的构造、复制、析构过程消耗的时间。**但光用引用有可能改变a，所以加上const**。

**(3) const 修饰函数的返回值**：如给“指针传递”的函数返回值加const,则**返回值不能被直接修改**，且**该返回值只能被赋值给加const修饰的同类型指针**。例如：

const char *GetChar(void){}；

char *ch = GetChar(); //错误

const char *ch = GetChar(); //正确

**(4)const修饰类的成员函数和(函数定义体)**：任何**不会修改数据成员的函数都应用const修饰**，这样，当**不小心修改了数据成员或调用了非const成员函数时，编译器都会报错**。

const修饰类的成员函数形式为：

int GetCount(void) const;

